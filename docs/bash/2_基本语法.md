# Bash 的基本语法

## 1. `echo` 命令

`echo` 命令的作用是在屏幕输出一行文本，可以将该命令的参数原样输出。

```bash
$ echo hello world
hello world
```

如果想要输出的是多行文本，即包括换行符。这时就需要把多行文本放在**引号**里面。

### 1.1. `-n` 参数

默认情况下，`echo` 输出的文本末尾会有一个回车符。

`-n` 参数可以取消末尾的回车符，使得下一个提示符紧跟在输出内容的后面。

```bash
echo "hello"
hello

echo -n hello
hello%
```

加了参数 `-n` 后，输出的 `hello` 后面直接跟着下一行的命令提示符 `%`。

### 1.2. `-e` 参数

`-e` 参数会解释引号（双引号和单引号）里面的特殊字符（比如换行符 `\n`）。

如果不使用 `-e` 参数，即默认情况下，引号会让特殊字符变成普通字符，`echo` 不解释它们，原样输出。

```bash
# 双引号的情况
$ echo -e "Hello\nWorld"
Hello
World

# 单引号的情况
$ echo -e 'Hello\nWorld'
Hello
World
```

## 2. 命令格式

Shell 命令基本都是下面的格式。

```bash
command [ arg1 ... [ argN ]]
```

- `command` 是具体的命令或者一个可执行文件。
- `arg1` ... `argN` 是传递给命令的参数，它们是可选的。

比如有下面的命令：

```bash
ls -l
```

其中 `ls` 是命令，`-l` 是参数。

有些参数是命令的配置项，这些配置项一般都以一个连词线开头，比如上面的 `-l`。

同一个配置项往往有长和短两种形式，比如 `-l` 是短形式，`--list` 是长形式，它们的作用完全相同。

**短形式便于手动输入，长形式一般用在脚本之中，可读性更好，利于解释自身的含义。**

Bash 单个命令一般都是一行，用户按下回车键，就开始执行。

有些命令比较长，写成多行会有利于阅读和编辑，这时可以在每一行的结尾加上反斜杠 `\`，Bash 就会将下一行跟当前行放在一起解释。

```bash
$ echo foo bar

# 等同于
$ echo foo \
bar
```

## 3. 空格

Bash 使用空格（或 Tab 键）区分不同的参数。

```bash
command foo bar
```

上面命令中，`foo` 和 `bar` 之间有一个空格，所以 Bash 认为它们是两个参数。

如果参数之间有多个空格，Bash 会自动忽略多余的空格。

## 4. 分号

分号 `;` 是命令的结束符，使得一行可以放置多个命令，上一个命令执行结束后，再执行第二个命令。

## 5. 命令的组合符 `&&` 和 `||`

除了分号，Bash 还提供两个命令组合符 `&&` 和 `||`，允许更好地控制多个命令之间的继发关系。

`command1 && command2` 表示如果 `command1` 执行成功，再执行 `command2`。

`command1 || command2` 表示如果 `command1` 执行失败，则执行 `command2`，否则不执行 `command2`。

## 6. `type` 命令

Bash 本身内置了很多命令，同时也可以执行外部程序。怎么知道一个命令是内置命令，还是外部程序呢？

`type` 命令用来判断命令的来源。

```bash
type echo
echo is a shell builtin

type ls
ls is hashed (/bin/ls)
```

如果要查看一个命令的所有定义，可以使用 `type` 命令的 `-a` 参数。

```bash
type -a echo
echo is a shell builtin
echo is /bin/echo
```

## 7. 快捷键

- Ctrl + L：清除屏幕并将当前行移到页面顶部。
- Ctrl + C：中止当前正在执行的命令。
- Ctrl + U：从光标位置删除到行首。
- Ctrl + K：从光标位置删除到行尾。
- Ctrl + W：删除光标位置前一个单词。
- Ctrl + D：关闭 Shell 会话。
- ↑，↓：浏览已执行命令的历史记录。

除了上面的快捷键，Bash 还具有自动补全功能。命令输入到一半的时候，可以按下 Tab 键，Bash 会自动完成剩下的部分。

比如，输入 `tou`，然后按一下 Tab 键，Bash 会自动补上剩下的 `ch`。

除了命令的自动补全，Bash 还支持路径的自动补全。

有时，需要输入很长的路径，这时只需要输入前面的部分，然后按下 Tab 键，就会自动补全后面的部分。

如果有多个可能的选择，**按两次 Tab 键**，Bash 会显示所有选项，让你选择。
