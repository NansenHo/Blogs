# Git Flow

## 分支策略

### 项目/开发团队较大时的分支策略

#### 主要分支：

1. `master` 分支：主分支

   > 要确保 `master` 分支总是处于可部署状态。

2. `develop` 分支：测试环境的代码分支

   每次往 `develop` 分支 `push` 代码都会自动部署到测试环境。

   > 如果项目有完备的[自动化测试](../books/the_clean_coder/index.md#第-8-章-测试策略)，
   > 那就要在 `develop` 分支通过全部测试后，才能部署到测试环境。

3. `release-year-month-day` 分支：用于定期发布代码，更新生产环境。

   如 `release-2023-10-19`。

4. 功能/修复等分支从 `master` 分支拉取。

   如 `feature/user-authentication` 或 `bugfix/wrong-date`。

#### 注意点：

- 长时间分支：避免让功能分支存在太长时间，以防止在合并时出现大量冲突。
- 定期审查：定期审查并清除过时的分支，例如那些已经合并或放弃的功能分支。
- 命名规范：规定合理的分支命名规范。
- 代码审查：在合并到 `develop` 分支之前，建议进行代码审查以确保代码质量。

> 在 Git Flow 中，`hotfix` 分支用于紧急修复生产环境的问题，并可以直接从 `master` 分支拉取和合并回去。
