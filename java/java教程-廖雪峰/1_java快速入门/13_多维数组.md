# 多维数组

## 二维数组

二维数组就是数组的数组。

```java
// 定义二维数组
public class Main {
	public static void main(String[] args) {
		int[][] ns = {
			{1, 2, 3, 4},
			{5, 6, 7, 8},
			{9, 10, 11, 12}
		};

		System.out.println(ns.length);
		// 3
	}
}
```

因为 `ns` 包含 3 个数组，因此，`ns.length` 为 3。

实际上 `ns` 在内存中的结构如下：

```bash
                    ┌───┬───┬───┬───┐
         ┌───┐  ┌──▶│ 1 │ 2 │ 3 │ 4 │
ns ─────▶│░░░│──┘   └───┴───┴───┴───┘
         ├───┤      ┌───┬───┬───┬───┐
         │░░░│─────▶│ 5 │ 6 │ 7 │ 8 │
         ├───┤      └───┴───┴───┴───┘
         │░░░│──┐   ┌───┬───┬───┬───┐
         └───┘  └──▶│ 9 │10 │11 │12 │
                    └───┴───┴───┴───┘
```

如果我们定义一个普通数组 `arr0`，然后把 `ns[0]` 赋值给它：

```java
int[] arr0 = ns[0];
```

实际上 `arr0` 就获取了 `ns` 数组的第 0 个元素。

因为 `ns` 数组的每个元素也是一个数组，因此，`arr0` 指向的数组就是 `{ 1, 2, 3, 4 }`。

在内存中，结构如下：

```bash
            arr0 ─────┐
                      ▼
                    ┌───┬───┬───┬───┐
         ┌───┐  ┌──▶│ 1 │ 2 │ 3 │ 4 │
ns ─────▶│░░░│──┘   └───┴───┴───┴───┘
         ├───┤      ┌───┬───┬───┬───┐
         │░░░│─────▶│ 5 │ 6 │ 7 │ 8 │
         ├───┤      └───┴───┴───┴───┘
         │░░░│──┐   ┌───┬───┬───┬───┐
         └───┘  └──▶│ 9 │10 │11 │12 │
                    └───┴───┴───┴───┘
```

访问二维数组的某个元素需要使用 `array[row][col]`。

### 打印一个二维数组

打印一个二维数组有两种方法：

1. Java 标准库的 `Arrays.deepToString()`
2. 使用两层嵌套的 for 循化

```java
// 两层嵌套的 for 循环
public class Main {
	public static void main(String[] args) {
		for (int[] arr: ns) {
			for (int n : arr) {
				System.out.print(n);
				System.out.print(",");
			}
			System.out.println();
		}
	}
}
```

```java
// Java 标准库的 `Arrays.deepToString()`
import java.util.Arrays;

public class Main {
	public static void main(String[] args) {
		System.out.print(Arrays.deepToString());
		// [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]]
	}
}
```

### 三维数组

三维数组就是二维数组的数组。

```java
int[][][] ns = {
	{
		{1, 2, 3},
		{4, 5, 6},
		{7, 8, 9}
	},
	{
		{10, 11},
		{12, 13},
	},
	{
		{14, 15, 16},
		{17, 18, 19, 20},
	},
}
```

它在内存中的结构如下：

```bash
                              ┌───┬───┬───┐
                   ┌───┐  ┌──▶│ 1 │ 2 │ 3 │
               ┌──▶│░░░│──┘   └───┴───┴───┘
               │   ├───┤      ┌───┬───┬───┐
               │   │░░░│─────▶│ 4 │ 5 │ 6 │
               │   ├───┤      └───┴───┴───┘
               │   │░░░│──┐   ┌───┬───┬───┐
        ┌───┐  │   └───┘  └──▶│ 7 │ 8 │ 9 │
ns ────▶│░░░│──┘              └───┴───┴───┘
        ├───┤      ┌───┐      ┌───┬───┐
        │░░░│─────▶│░░░│─────▶│10 │11 │
        ├───┤      ├───┤      └───┴───┘
        │░░░│──┐   │░░░│──┐   ┌───┬───┐
        └───┘  │   └───┘  └──▶│12 │13 │
               │              └───┴───┘
               │   ┌───┐      ┌───┬───┬───┐
               └──▶│░░░│─────▶│14 │15 │16 │
                   ├───┤      └───┴───┴───┘
                   │░░░│──┐   ┌───┬───┐
                   └───┘  └──▶│17 │18 │
                              └───┴───┘
```

如果我们要访问三维数组的某个元素，例如，`ns[2][0][1]`，只需要顺着定位找到对应的最终元素 15 即可。

理论上，我们可以定义任意的 N 维数组。

但在实际应用中，除了二维数组在某些时候还能用得上，更高维度的数组很少使用。

---

使用二维数组可以表示一组学生的各科成绩，请计算所有学生的平均分：

```java
public class Main {
    public static void main(String[] args) {
        int[][] scores = {
                { 82, 90, 91 },
                { 68, 72, 64 },
                { 95, 91, 89 },
                { 67, 52, 60 },
                { 79, 81, 85 },
        };

        int sum = 0;
        for (int[] arr: scores) {
            for (int n : arr) {
                sum = sum + n;
            }
            System.out.println(sum / 3);
            sum = 0;
        }
    }
}
```
