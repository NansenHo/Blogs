# 传统编译型语言的编译过程

传统编译语言在源代码被执行前，会经历 ”编译“ 三阶段：

1. 分词/词法分析（Tokenizing/Lexing）
   - 该阶段将字符串分解成对编程语言来说有意义的代码块，这些代码块叫做词法单元（token）。
   - 程序 `var a = 2;` 会被分解成以下词法单元：`var` `a` `=` `2` `;` 。
   - 空格是否算作词法单元，取决于空格在这门语言中是否具有意义。
   - 如果词法单元生成器在判断 a 是一个独立的词法单元/其他词法单元中的一部分时，调用的是**有状态的解析规则**，那么这个过程就被称为词法分析。（分词和词法分析的区别）
2. 解析/语法分析（Parsing）
   - 该阶段将词法单元流（数组）转换成一个由元素逐级嵌套所组成的代表了程序语法结构的树。
   - 这棵树叫做**抽象语法树 AST**（Abstract Syntax Tree）。
   -  `var a = 2;` 的抽象树：`VariableDeclaration` 顶级节点 => `Identifier` 子节点（值为 a ）+ `AssignmentExpression` 子节点（值为 2 ）；
3. 代码生成
   - 该阶段将 AST 转换为可执行代码（代码生成）。
   - 这一阶段与语言、目标平台等息息相关。