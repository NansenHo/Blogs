# 引擎、编译器和作用域

## 引擎 & 编译器 & 作用域

用 3 个角色来理解 JavaScript 程序的处理过程：

1. 引擎
   - 负责 JavaScript 的整个编译&执行过程。
2. 编译器
   - 负责词法分析及代码生成等
3. 作用域
   - 负责收集并维护所有变量组成的一系列查询
   - 根据规则确定当前执行代码对这些变量的访问权限

> 编译器 和 作用域 就像是 引擎 的左右手，帮引擎处理了很多工作。

### `var a = 2;` 被如何处理

1. 编译器：看到 `var a` 会先去找作用域，看看该作用域中是否已经存在该变量；
   - 如果已存在，编译器就会忽略该声明，接着往下编译；
   - 如果没有，编译器就会在当前作用域中声明一个新的变量，并命名为 a ；
2. 编译器：为引擎生成运行需要的代码。这些代码被用于处理 `a = 2` 这个赋值操作；
3. 引擎：去询问作用域，该作用域中是否已存在 `a` 变量；
   - 如果已存在，引擎会直接使用这个变量，并进行赋值操作；
   - 如果没有，引擎会继续查找这个变量；如果找不到就会抛出一个异常。

### 编译器术语





